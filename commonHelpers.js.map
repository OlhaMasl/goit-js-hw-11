{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n export function searchImage(query) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const params = new URLSearchParams({\n        key: \"44175517-753270956c641713e32eb091d\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n    const url = `${BASE_URL}?${params}`;\n     return fetch(url).then(res => {\n         if (!res.ok) {\n             throw new Error(res.statusText);  \n         }\n         return res.json();\n     });\n}\n\n","\n\nexport function imagesTemplate(images) {\n   return images.map((image) => {\n       return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n    />\n    <ul class=\"image-info\">\n    <li class=\"info-item\"><div class=\"item-text\">Likes</div><div class=\"item-value\">${image.likes}</div></li>\n    <li class=\"info-item\"><div class=\"item-text\">Views</div><div class=\"item-value\">${image.views}</div></li>\n    <li class=\"info-item\"><div class=\"item-text\">Comments</div><div class=\"item-value\">${image.comments}</div></li>\n    <li class=\"info-item\"><div class=\"item-text\">Downloads</div><div class=\"item-value\">${image.downloads}</div></li>\n    </ul>\n  </a>\n</li>`\n    }).join(\"\");\n}\n\n\n\n","import { searchImage } from \"./js/pixabay-api\";\nimport { imagesTemplate } from \"./js/render-functions\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst formEL = document.querySelector(\".form\");\nconst galleryList = document.querySelector(\".gallary\");\nconst loaderEl = document.querySelector(\".loader\");\n\nformEL.addEventListener(\"submit\", evt => {\n    evt.preventDefault();\n    const InputValue = evt.target.elements.search.value.trim();\n    if (InputValue === \"\") {\n      return  \n    };\n    evt.target.reset();\n    loaderEl.classList.remove(\"is-hiding\");\n    searchImage(InputValue).then(data => {\n        // console.log(data);\n        if (data.total === 0) {\n         iziToast.show({\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n              messageColor: 'white',\n              backgroundColor: 'red',\n             position: 'topRight',\n          });\n        }\n        const markup = imagesTemplate(data.hits);\n        galleryList.innerHTML = markup;\n        const galleryModel = new SimpleLightbox('.gallary a', {\n            captionsData: \"alt\",\n            captionPosition: \"bottom\",\n            captionDelay: 250,\n        });\n        galleryModel.on('show.simplelightbox', function () {\n            refresh();\n        }); \n    }).catch(error => {\n        // console.log(error);\n        iziToast.show({\n            message: 'Internal server error!',\n            messageColor: 'white',\n            backgroundColor: 'red',\n            position: 'topRight',\n        })\n          \n    }).finally(() => {\n        loaderEl.classList.add(\"is-hiding\");\n            });\n   \n});\n\n     "],"names":["searchImage","query","BASE_URL","params","url","res","imagesTemplate","images","image","formEL","galleryList","loaderEl","evt","InputValue","data","iziToast","markup","SimpleLightbox","error"],"mappings":"6vBACQ,SAASA,EAAYC,EAAO,CAChC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAChC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC1B,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,UAAU,EAElC,OAAOA,EAAI,MACpB,CAAM,CACN,CCfO,SAASC,EAAeC,EAAQ,CACpC,OAAOA,EAAO,IAAKC,GACR;AAAA,kCACoBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,sFAG+DA,EAAM,KAAK;AAAA,sFACXA,EAAM,KAAK;AAAA,yFACRA,EAAM,QAAQ;AAAA,0FACbA,EAAM,SAAS;AAAA;AAAA;AAAA,MAIpG,EAAE,KAAK,EAAE,CACd,CCNA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,SAAS,cAAc,SAAS,EAEjDF,EAAO,iBAAiB,SAAUG,GAAO,CACrCA,EAAI,eAAc,EAClB,MAAMC,EAAaD,EAAI,OAAO,SAAS,OAAO,MAAM,OAChDC,IAAe,KAGnBD,EAAI,OAAO,QACXD,EAAS,UAAU,OAAO,WAAW,EACrCX,EAAYa,CAAU,EAAE,KAAKC,GAAQ,CAE7BA,EAAK,QAAU,GAClBC,EAAS,KAAK,CACT,QAAS,2EACT,aAAc,QACd,gBAAiB,MAClB,SAAU,UACvB,CAAW,EAEH,MAAMC,EAASV,EAAeQ,EAAK,IAAI,EACvCJ,EAAY,UAAYM,EACH,IAAIC,EAAe,aAAc,CAClD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAC1B,CAAS,EACY,GAAG,sBAAuB,UAAY,CAC/C,SACZ,CAAS,CACT,CAAK,EAAE,MAAMC,GAAS,CAEdH,EAAS,KAAK,CACV,QAAS,yBACT,aAAc,QACd,gBAAiB,MACjB,SAAU,UACtB,CAAS,CAET,CAAK,EAAE,QAAQ,IAAM,CACbJ,EAAS,UAAU,IAAI,WAAW,CAC1C,CAAa,EAEb,CAAC"}